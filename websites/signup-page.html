<!DOCTYPE html>
<head>
    <title>Signup Page</title>
</head>
<body>
    <h1>Sign Up</h1>
    <label for="username-input">Username</label>
    <input id="username-input">
    <label for="password-input">Password</label>
    <input id="password-input" type="password">
    <br>
    <button id="login-button">Login</button>
    <button id="enter-button">Enter</button>

    <!--
        <input type="text" id="myInput" placeholder="Enter text">

    -->

    <script src="/client-functions.js"></script>
    <script>

// document.getElementById("id").value


    const loginbutton = document.querySelector("#login-button");

    // Add a click event listener
    loginbutton.addEventListener("click", () => {
        console.log("Button clicked!");
        //app.get("/login", function(req,res)
        window.location.href = "/login"
    });


    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_objects
        
        function getTextBoxValue() {
            var textBox = document.getElementById("myTextBox");
            var value = textBox.value;
            alert("You entered: " + value);
        }

        /*
            Sign Up
        */
        document.getElementById("enter-button").addEventListener("click", async function(){
            // Get user inputs
            // Make the server request
            // Tell the user if it was successful

            console.log("Enter button clicked")

            let returned = await makeServerRequest("create-new-user", 
            {username: document.getElementById("username-input").value, password: document.getElementById("password-input").value, name: "My Name"})
            // console.log prints to the Inspect Element console. (Use CTRL+SHIFT+I on site to see)
            console.log("Returned JSON: " + JSON.stringify(returned))  // JSON.stringify turns a JSON object into a string
            if(returned.success == true){
                console.log("Success!")
                window.location.href = "/payment-page"

                // Log In the user now
            } else {
                console.log("Failure!")
                alert(returned.message)
            }
        })
    </script>



</body>



